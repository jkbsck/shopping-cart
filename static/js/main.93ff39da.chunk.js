(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{36:function(e,c,t){},44:function(e,c,t){"use strict";t.r(c);var s=t(2),a=t.n(s),n=t(26),r=t.n(n),i=(t(36),t(11)),j=t(3),l=t(13),b=t(31),d=t(19),o=t.n(d),h=t(27),O=t(5),x=t(1),m=a.a.createContext(),u=function(e){var c=e.children,t=Object(s.useState)([]),a=Object(O.a)(t,2),n=a[0],r=a[1],i=Object(s.useState)([]),j=Object(O.a)(i,2),d=j[0],u=j[1],p=Object(s.useState)(!1),f=Object(O.a)(p,2),N=f[0],v=f[1],g=Object(s.useState)("The Wire"),w=Object(O.a)(g,2),y=w[0],k=w[1],C=Object(s.useState)(!1),S=Object(O.a)(C,2),T=S[0],E=S[1],F=Object(s.useCallback)(Object(h.a)(o.a.mark((function e(){var c,t,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,fetch("".concat("https://api.tvmaze.com/search/shows?q=").concat(y));case 4:return c=e.sent,e.next=7,c.json();case 7:(t=e.sent).length>0?(s=t.map((function(e){return{id:e.show.id,name:e.show.name,genres:e.show.genres,premiered:e.show.premiered,rating:e.show.rating,image:e.show.image?e.show.image.medium:null,summary:e.show.summary}})),r(s)):r([]),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),E(!0);case 15:v(!1);case 16:case"end":return e.stop()}}),e,null,[[1,11]])}))),[y]);Object(s.useEffect)((function(){F()}),[y,F]);return Object(x.jsx)(m.Provider,{value:{setSearchTerm:k,shows:n,loading:N,fetchError:T,cart:d,addToCart:function(e){if(d.find((function(c){return c.id===e.id}))){var c=d.filter((function(c){return c.id!==e.id}));u(c)}else u([].concat(Object(b.a)(d),[Object(l.a)({},e)]))}},children:c})},p=function(){return Object(s.useContext)(m)},f=function(){var e=p().cart;return Object(x.jsx)("nav",{className:"nav-wrapper",children:Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:Object(x.jsx)(i.b,{exact:!0,to:"/",activeClassName:"active",children:Object(x.jsx)("h3",{children:"Home"})})}),Object(x.jsx)("div",{className:"divider"}),Object(x.jsx)("li",{children:Object(x.jsx)(i.b,{to:"/shop",activeClassName:"active",children:Object(x.jsx)("h3",{children:"Shop"})})}),Object(x.jsx)("div",{className:"divider"}),Object(x.jsx)("li",{className:e.length>0?"cart-with-items":"",children:Object(x.jsx)(i.b,{to:"/cart",activeClassName:"active",children:Object(x.jsxs)("h3",{children:["Cart ",Object(x.jsx)("span",{children:e.length>0?"(".concat(e.length,")"):""})]})})}),Object(x.jsx)("div",{className:"divider"}),Object(x.jsx)("li",{children:Object(x.jsx)(i.b,{to:"/info",activeClassName:"active",children:Object(x.jsx)("h3",{children:"Info"})})})]})})},N=t(10),v=t(8),g=function(){var e=Object(s.useState)(!1),c=Object(O.a)(e,2),t=c[0],a=c[1],n=Object(s.useState)(0),r=Object(O.a)(n,2),i=(r[0],r[1]),j=Object(s.useRef)(null);Object(s.useEffect)((function(){i(j.current.scrollHeight)}),[]);return Object(x.jsx)("aside",{className:"social",children:Object(x.jsxs)("div",{className:"social-wrapper ".concat(t&&"show"),children:[Object(x.jsxs)("div",{className:"social-toggle",onClick:function(){a(!t)},children:[t?Object(x.jsx)(v.c,{className:"arrow"}):Object(x.jsx)(v.b,{className:"arrow"}),Object(x.jsx)("div",{className:"title",children:"SOCIAL"})]}),Object(x.jsxs)("div",{className:"social-items",ref:j,children:[Object(x.jsx)("a",{href:"https://github.com/jkbsck",target:"_blank",children:Object(x.jsx)("div",{className:"social-item",children:Object(x.jsx)(N.b,{})})}),Object(x.jsx)("a",{href:"https://www.linkedin.com/",target:"_blank",children:Object(x.jsx)("div",{className:"social-item",children:Object(x.jsx)(N.d,{})})}),Object(x.jsx)("a",{href:"https://www.facebook.com",target:"_blank",children:Object(x.jsx)("div",{className:"social-item",children:Object(x.jsx)(N.a,{})})}),Object(x.jsx)("a",{href:"https://www.youtube.com",target:"_blank",children:Object(x.jsx)("div",{className:"social-item",children:Object(x.jsx)(N.f,{})})})]})]})})},w=function(){var e=Object(s.useState)(!1),c=Object(O.a)(e,2),t=c[0],a=c[1];return Object(s.useEffect)((function(){var e=setTimeout((function(){return a(!0)}),1e3),c=setTimeout((function(){return a(!1)}),1100);return function(){clearTimeout(e,c)}}),[]),Object(x.jsxs)("section",{className:"home",children:[Object(x.jsxs)("div",{className:"title-wrapper",children:[Object(x.jsx)("div",{className:"title-top",children:Object(x.jsx)("span",{className:"title title-1",children:"TV"})}),Object(x.jsxs)("div",{className:"title-bottom",children:[Object(x.jsx)("span",{className:"title title-2",children:"sho"}),Object(x.jsx)("span",{className:"title title-3",children:"(w)"}),Object(x.jsx)("span",{className:"title title-4",children:"pper"})]}),Object(x.jsx)("div",{className:"screen ".concat(t?"screen-red":"")}),Object(x.jsx)(v.f,{className:"tv-icon"})]}),Object(x.jsxs)("div",{className:"description",children:[Object(x.jsx)("p",{children:"Tired of spending hours watching Netflix every day?"}),Object(x.jsx)("p",{children:"No more procrastination!"}),Object(x.jsx)("p",{children:"With TV shopper you pay only for shows you want to see."}),Object(x.jsx)("p",{children:"No registration, just pick a show, pay and watch."})]})]})},y=t(29),k=function(){return Object(x.jsxs)("div",{className:"loading",children:[Object(x.jsx)("span",{children:"Loading..."}),Object(x.jsx)("span",{children:Object(x.jsx)(y.a,{className:"loading-icon"})})]})},C=t(22),S=Object(x.jsx)("div",{className:"default-img",children:Object(x.jsx)("h1",{children:Object(x.jsx)(N.c,{})})}),T=function(e){var c=e.id,t=e.name,a=e.genres,n=e.premiered,r=e.rating,i=e.summary,j=e.image,l=p(),b=l.cart,d=l.addToCart,o=Object(s.useState)(!1),h=Object(O.a)(o,2),m=h[0],u=h[1],f=Object(s.useState)(!1),v=Object(O.a)(f,2),g=v[0],w=v[1],y=Object(s.useRef)(null);Object(s.useEffect)((function(){var e=b.find((function(e){return e.id===c}));w(!!e)}),[]);return Object(x.jsxs)("article",{className:"single-show col-9 col-sm-7 col-md-5 col-lg-4 col-xl-3 offset-1 offset-sm-2 offset-md-3 offset-lg-1 offset-xl-2",children:[Object(x.jsx)("div",{className:"img-wrapper",children:j?Object(x.jsx)("img",{src:j,alt:t}):S}),Object(x.jsxs)("div",{className:"info-wrapper",children:[Object(x.jsx)("h2",{className:"title col-8",children:t}),Object(x.jsxs)("span",{className:"rating col-4",children:[Object(x.jsx)(N.e,{className:"star"})," ",r?"".concat(r.average?r.average:"-","/10"):"-"]}),Object(x.jsxs)("span",{className:"genres col-6",children:["genres: ",Object(x.jsx)("h6",{children:a.join(", ")})]}),Object(x.jsxs)("span",{className:"premiered col-6",children:["premiered: ",Object(x.jsx)("h6",{children:n})]})]}),Object(x.jsx)("div",{className:"more-content",ref:y}),Object(x.jsxs)("div",{className:"actions-wrapper",children:[Object(x.jsx)("div",{className:"more",onClick:function(){y.current.innerHTML=i,m?y.current.classList.remove("show"):y.current.classList.add("show"),u(!m)},children:m?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{children:"Less Info"}),Object(x.jsx)(C.b,{className:"arrow"})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{children:"More Info"}),Object(x.jsx)(C.a,{className:"arrow"})]})}),Object(x.jsx)("div",{className:"add-to-cart",children:Object(x.jsx)("button",{className:"btn add-to-cart-btn ".concat(g?"in-cart":""),onClick:function(){w(!g),d(e)},children:g?"Remove From Cart":"Add To Cart"})})]})]})},E=function(){var e=p(),c=e.shows;return e.loading?Object(x.jsx)(k,{}):c.length<1?Object(x.jsxs)("div",{className:"no-shows",children:[Object(x.jsx)("span",{children:"No shows found."}),Object(x.jsx)("span",{children:Object(x.jsx)(v.d,{className:"sad-icon"})})]}):Object(x.jsx)("section",{className:"shows-wrapper",children:c.map((function(e){return Object(x.jsx)(T,Object(l.a)({},e),e.id)}))})},F=Object(x.jsxs)("div",{className:"fetch-error",children:[Object(x.jsx)("span",{children:"Failed to fetch data."}),Object(x.jsx)("span",{children:Object(x.jsx)(v.a,{className:"error-icon"})})]}),L=function(){var e=p(),c=e.setSearchTerm,t=e.fetchError,a=Object(s.useRef)("");return Object(x.jsxs)("section",{className:"shop",children:[Object(x.jsx)("div",{className:"form-wrapper",children:Object(x.jsxs)("form",{className:"search-form",children:[Object(x.jsx)("input",{className:"search-input",type:"text",id:"search",name:"search",ref:a,onChange:function(){c(a.current.value)},placeholder:"e.g. The Wire"}),Object(x.jsx)("div",{className:"search-btn btn",children:Object(x.jsx)(v.e,{})})]})}),t?F:Object(x.jsx)(E,{})]})},I=t(30),M=function(){var e=p().cart;return e.length<1?Object(x.jsxs)("div",{className:"cart-empty",children:[Object(x.jsx)("span",{children:"Cart is empty."}),Object(x.jsx)("span",{children:Object(x.jsx)(I.a,{className:"empty-icon"})})]}):Object(x.jsxs)("section",{className:"cart-wrapper",children:[Object(x.jsxs)("div",{className:"cart-summary col-9 col-lg-6 offset-1 offset-lg-3",children:[Object(x.jsx)("div",{className:"title-wrapper",children:Object(x.jsx)("h2",{children:"Cart summary:"})}),Object(x.jsxs)("div",{className:"items-wrapper",children:[Object(x.jsx)("h4",{children:"Shows in cart:"}),e.map((function(e){return Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{children:e.name}),Object(x.jsx)("span",{children:"$49,999.00"})]})}))]}),Object(x.jsxs)("div",{className:"amount-wrapper",children:[Object(x.jsx)("span",{children:"Amount: "}),Object(x.jsx)("span",{children:e.length})]}),Object(x.jsxs)("div",{className:"total-wrapper",children:[Object(x.jsx)("span",{children:"Total: "}),Object(x.jsx)("span",{children:"$".concat((49999*e.length).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"))})]}),Object(x.jsxs)("div",{className:"actions-wrapper",children:[Object(x.jsx)("button",{className:"pay-with-card btn",children:"Pay With Card"}),Object(x.jsx)("button",{className:"pay-with-kidney btn",children:"Pay With Kidney"})]})]}),Object(x.jsxs)("div",{className:"cart-items-wrapper",children:[Object(x.jsx)("h3",{className:"title",children:"Cart Items:"}),Object(x.jsx)("div",{className:"cart-items",children:e.map((function(e){return Object(x.jsx)(T,Object(l.a)({},e),e.id)}))})]})]})},W=t(24),_=t(23),P=function(){var e=Object(s.useState)(!1),c=Object(O.a)(e,2),t=c[0],a=c[1];return Object(x.jsx)("section",{className:"info",children:Object(x.jsxs)("div",{className:"wrapper",children:[Object(x.jsx)("a",{href:"https://github.com/jkbsck",target:"_blank",children:Object(x.jsx)("div",{className:"trigger",onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)}})}),Object(x.jsx)(N.b,{className:"github"}),t?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(_.a,{className:"left"}),Object(x.jsx)(_.a,{className:"right"})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(W.a,{className:"left"}),Object(x.jsx)(W.a,{className:"right"})]})]})})},R=function(){return Object(x.jsxs)("div",{className:"error",children:[Object(x.jsx)("span",{children:"Page does not exist."}),Object(x.jsx)("span",{children:Object(x.jsx)(v.a,{className:"error-icon"})})]})};var A=function(){return Object(x.jsxs)(i.a,{children:[Object(x.jsx)(f,{}),Object(x.jsx)(g,{}),Object(x.jsx)("div",{className:"content",children:Object(x.jsxs)(j.d,{children:[Object(x.jsx)(j.b,{exact:!0,path:"/",children:Object(x.jsx)(w,{})}),Object(x.jsx)(j.b,{path:"/shop",children:Object(x.jsx)(L,{})}),Object(x.jsx)(j.b,{path:"/cart",children:Object(x.jsx)(M,{})}),Object(x.jsx)(j.b,{path:"/info",children:Object(x.jsx)(P,{})}),Object(x.jsx)(j.b,{exact:!0,path:"/shopping-cart",children:Object(x.jsx)(j.a,{to:"/"})}),Object(x.jsx)(j.b,{path:"*",children:Object(x.jsx)(R,{})})]})})]})};r.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(u,{children:Object(x.jsx)(A,{})})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.93ff39da.chunk.js.map